<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <div class="tv-partes">
            <div class="tv" id="tv"></div>
            <div class="antenna"></div>
            <div class="legs"></div>
            <audio id="myAudio" src="que empiece el juego.mp3" type="audio/mp3"></audio>
            <audio id="secondAudio" src="Troll laughing LoL - sound effect - [High quality].mp3" type="audio/mp3"></audio>
            <audio id="estatica" src="Five Nights at Freddy's 2 Static Game Over (Extended) - Ignition Ender (youtube).mp3"></audio>
            <form name="encender">
                <input type="button" name="boton" value="ON">
            </form>
        </div>

        <script>
            function playAudio(audioId) {
                var audio = document.getElementById(audioId);
                return audio.play().then(function() {
                    console.log('Audio is playing');
                }).catch(function(error) {
                    console.log('Playback prevented:', error);
                });
            }

            function pauseAudio(audioId) {
                var audio = document.getElementById(audioId);
                audio.pause();
                audio.currentTime = 0;
            }

            function turnOnTV(gifUrl) {
                var tv = document.getElementById("tv");
                tv.style.backgroundImage = "url('" + gifUrl + "')";
                tv.style.backgroundSize = "cover";
            }

            function redirectToAnotherPage() {
                window.location.href = 'juego.html';
            }

            document.forms["encender"]["boton"].onclick = function() {
                turnOnTV('saw.gif');
                playAudio('myAudio').then(function() {
                    var myAudio = document.getElementById('myAudio');
                    myAudio.addEventListener('ended', function() {
                        turnOnTV('jigsaw-jigsaw-death.gif');
                        var audio2 = document.getElementById('secondAudio');
                        playAudio('secondAudio').then(function() {
                            setTimeout(redirectToAnotherPage,1500);
                        });
                    });
                });
            };
        </script>
    </main>
</body>
</html>
